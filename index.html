<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü ‡¶ì‡ßü‡ßá‡¶¨ ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‚Äî ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶≠</title>

<!-- Prism for code highlighting -->
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet"/>

<style>
  :root{
    --bg:#081025;
    --card:#0f1724;
    --muted:#9aa7b3;
    --accent:#00c2d4;
    --glass: rgba(255,255,255,0.03);
    --glass-2: rgba(255,255,255,0.02);
    --radius: 14px;
    --card-radius: 16px;
    --shadow-1: 0 6px 18px rgba(2,6,23,0.6);
    --shadow-2: 0 12px 36px rgba(2,6,23,0.75);
    --ease: cubic-bezier(.19,1,.22,1);
  }

  /* Basic reset */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system, "Noto Sans Bengali", sans-serif;
    background: linear-gradient(180deg,var(--bg) 0%, #021226 100%);
    color:#e6eef3;
    -webkit-font-smoothing:antialiased;
    text-rendering:optimizeLegibility;
    line-height:1.55;
    overflow-y: auto;
    padding: 28px;
    perspective:1200px;
  }

  header.hero{
    text-align:center;
    padding:28px 12px 16px;
    margin-bottom:18px;
  }
  header.hero h1{
    margin:0;
    font-size:2.05rem;
    letter-spacing: -0.02em;
    color: #eafcff;
    text-shadow: 0 6px 24px rgba(0,194,212,0.08);
  }
  header.hero p{
    margin:8px auto 0;
    color:var(--muted);
    max-width:760px;
  }

  /* Parallax background container */
  .parallax {
    position:relative;
    height:60px;
    margin-bottom:28px;
    overflow:hidden;
    border-radius: calc(var(--radius) - 4px);
    box-shadow: var(--shadow-1);
    background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(255,255,255,0.02));
  }
  .layer {
    position:absolute;
    inset:0;
    background-repeat:no-repeat;
    background-position:center;
    background-size:cover;
    will-change:transform,opacity;
    transform-origin:center center;
    transition: transform 0.3s var(--ease), opacity 0.3s ease;
    opacity:0.95;
    filter: saturate(1.05) contrast(1.02);
  }
  .bg1{ background-image: url('assets/bg1.jpg'); z-index:1; opacity:0.85; }
  .bg2{ background-image: url('assets/bg2.png'); z-index:2; opacity:0.65; mix-blend-mode:screen;}
  .bg3{ background-image: url('assets/bg3.png'); z-index:3; opacity:0.45; filter: blur(6px) saturate(0.9);}

  /* Cards grid */
  .cards {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:20px;
    align-items:start;
    margin-bottom:32px;
  }

  .card {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), var(--glass));
    border-radius: var(--card-radius);
    padding:18px;
    cursor:pointer;
    transform-style:preserve-3d;
    transition: transform 350ms var(--ease), box-shadow 350ms var(--ease), background 350ms var(--ease);
    box-shadow: 0 4px 18px rgba(2,8,20,0.5);
    border: 1px solid rgba(255,255,255,0.03);
    min-height:120px;
    display:flex;
    flex-direction:column;
    justify-content:center;
    position:relative;
    overflow:hidden;
  }

  .card .title{ font-size:1.05rem; font-weight:700; color:#eafcff; margin-bottom:6px; }
  .card .desc{ color:var(--muted); font-size:0.95rem; line-height:1.35; }

  .card::after{
    content:'';
    position:absolute;
    inset:0;
    pointer-events:none;
    background: linear-gradient(180deg, rgba(0,194,212,0.02), transparent 30%);
    mix-blend-mode:overlay;
    opacity:0;
    transition: opacity 240ms ease;
  }

  .card:hover{
    transform: translateY(-8px) rotateX(6deg) scale(1.02);
    box-shadow: 0 18px 46px rgba(0,194,212,0.12);
  }
  .card:hover::after{ opacity:1; }

  /* subtle inner highlight */
  .card .glow {
    position:absolute;
    right:-40%;
    top:-40%;
    width:220px;height:220px;
    background: radial-gradient(circle at 30% 30%, rgba(0,194,212,0.12), transparent 40%);
    transform: translateZ(30px) rotate(12deg);
    pointer-events:none;
    transition: transform 400ms var(--ease);
  }

  /* Modal */
  #modal {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index:999;
    background: rgba(2,6,20,0.6);
    backdrop-filter: blur(6px) saturate(1.05);
  }
  #modal.open{ display:flex; }

  .modal-wrap{
    width: min(960px, 94%);
    max-height: 86vh;
    overflow:auto;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: calc(var(--card-radius) + 4px);
    padding:20px;
    box-shadow: var(--shadow-2);
    transform-origin: center center;
    transition: transform 360ms var(--ease), opacity 280ms ease;
    position: relative;
    border:1px solid rgba(255,255,255,0.04);
  }

  .modal-header{
    display:flex; align-items:center; gap:12px; margin-bottom:12px;
  }
  .modal-header h2{ margin:0; font-size:1.25rem; color:#eafcff; }
  .modal-controls{ margin-left:auto; display:flex; gap:8px; align-items:center; }

  .modal-body{
    color:#d8e6ef;
    font-size:0.98rem;
  }

  /* Code area */
  pre {
    background: #0b1220;
    padding:14px;
    border-radius:10px;
    overflow:auto;
    margin:12px 0;
    font-size:0.9rem;
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: inset 0 0 28px rgba(0,0,0,0.45);
  }

  /* Copy button inside modal */
  .code-toolbar {
    position: relative;
  }
  .copy-code {
    position: absolute;
    right:12px;
    top:8px;
    background:var(--accent);
    color:#051021;
    border:none;
    padding:6px 10px;
    border-radius:8px;
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 8px 20px rgba(0,194,212,0.12);
    transform-origin:center;
    transition: transform 220ms cubic-bezier(.2,.9,.3,1), box-shadow 200ms;
  }
  .copy-code:active{ transform: translateY(1px) scale(0.98); box-shadow:0 6px 12px rgba(0,194,212,0.1);}
  .copy-code.copied{
    background: #4ee0c8;
    transform: scale(1.06);
    animation: pop 420ms cubic-bezier(.2,.9,.3,1);
  }
  @keyframes pop{ 0%{ transform: scale(.9);} 60%{ transform: scale(1.07);} 100%{ transform: scale(1);} }

  /* Modal micro parallax header */
  .modal-hero{
    position:relative; overflow:hidden; border-radius:10px; padding:10px;
    background: linear-gradient(90deg, rgba(0,194,212,0.06), rgba(65,85,110,0.02));
    margin-bottom:12px;
    transform-style:preserve-3d;
  }
  .modal-hero .mh-layer{
    position:absolute; inset:0; background-repeat:no-repeat; background-position:center; background-size:cover; will-change:transform;
    opacity:0.12; mix-blend-mode:screen;
  }

  /* modal navigation */
  .modal-nav{ display:flex; gap:8px; margin-top:12px; }
  .btn {
    background:transparent; border:1px solid rgba(255,255,255,0.06);
    color:var(--muted); padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:600;
  }
  .btn.primary{ background:var(--accent); color:#031222; border:none; box-shadow: 0 10px 30px rgba(0,194,212,0.08); }

  /* back-to-top */
  #backTop {
    position: fixed; right:22px; bottom:22px;
    width:48px;height:48px;border-radius:50%;
    background: linear-gradient(180deg,var(--accent), #00aabf);
    display:flex; align-items:center; justify-content:center;
    box-shadow: 0 10px 30px rgba(0,194,212,0.15);
    cursor:pointer; border:none;
    transform: translateY(10px); opacity:0; transition:opacity 300ms var(--ease), transform 300ms var(--ease);
    z-index: 1200;
  }
  #backTop.show{ opacity:1; transform: translateY(0); }

  /* accessibility focus */
  :focus { outline: none; }
  .focus-ring{ box-shadow: 0 0 0 3px rgba(0,194,212,0.14); border-radius:8px; }

  /* Responsiveness */
  @media (max-width:700px){
    .cards{ grid-template-columns: repeat(auto-fit, minmax(150px,1fr)); gap:14px; }
    .parallax{ height:180px; }
    .modal-wrap{ width:94%; padding:14px; }
    pre{ font-size:0.85rem; }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce){
    .card, .modal-wrap, .layer, #backTop { transition: none !important; animation: none !important; transform: none !important; }
  }
</style>
</head>
<body>

<header class="hero" role="banner">
  <h1>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶ü‡¶ø‡¶â‡¶ü‡ßã‡¶∞‡¶ø‡ßü‡¶æ‡¶≤</h1>
  <p>‡¶∏‡ßã‡¶ú‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶ï‡ßã‡¶° ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‚Äî ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂‡¶ø ‡¶°‡ßá‡¶≠/‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
</header>

<!-- Parallax Section -->
<section class="parallax" aria-hidden="true">
  <div class="layer bg1" data-speed="1.6"></div>
  <div class="layer bg2" data-speed="3.2"></div>
  <div class="layer bg3" data-speed="6.8"></div>
</section>

<!-- Cards (topics will be generated by JS too) -->
<main class="cards" id="cards" role="main" aria-label="Topics">
  <!-- Cards are inserted here by JS for maintainability -->
</main>

<!-- Modal -->
<div id="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-wrap" role="document">
    <div class="modal-header">
      <div>
        <h2 id="modal-title">Title</h2>
        <div class="modal-hero" id="modal-hero" aria-hidden="true">
          <div class="mh-layer" style="background-image:linear-gradient(90deg, rgba(0,194,212,0.12), rgba(255,255,255,0.02));"></div>
        </div>
      </div>
      <div class="modal-controls" aria-hidden="false">
        <div class="modal-nav">
          <button id="prevTopic" class="btn" title="‡¶Ü‡¶ó‡ßá">‚Üê ‡¶Ü‡¶ó‡ßá‡¶∞</button>
          <button id="nextTopic" class="btn" title="‡¶™‡¶∞‡ßá‡¶∞">‡¶™‡¶∞‡ßá‡¶∞ ‚Üí</button>
        </div>
        <div style="width:10px"></div>
        <button id="closeModal" class="btn" aria-label="Close">‡¶¨‡¶®‡ßç‡¶ß</button>
      </div>
    </div>

    <div class="modal-body" id="modal-body">
      <!-- Content injected here -->
    </div>
    <div style="height:16px"></div>
  </div>
</div>

<button id="backTop" aria-label="Back to top">‚¨Ü</button>

<!-- Prism -->
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>

<script>
/* =========================
   Topic content (Bangla + code + breakdown)
   IMPORTANT: keep keys in the order you want modal navigation.
   ========================= */
const topics = [
  {
    id: 'plaintext-vs',
    title: 'Plaintext vs Encoding vs Encryption vs Hashing',
    body: `
      <div class="modal-hero" aria-hidden="true">
        <div class="mh-layer" style="background-image: radial-gradient(circle at 20% 20%, rgba(0,194,212,0.12), transparent 20%);"></div>
      </div>

      <p><strong>‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ</strong>: ‡¶™‡ßç‡¶≤‡ßá‡¶á‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶π‡¶≤ ‡¶Ü‡¶∏‡¶≤ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ; ‡¶è‡¶®‡¶ï‡ßã‡¶°‡¶ø‡¶Ç ‡¶ï‡ßá‡¶¨‡¶≤ ‡¶∏‡¶æ‡¶ú‡¶æ‡ßü; ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶°‡ßá‡¶ü‡¶æ‡¶ï‡ßá ‡¶≤‡¶ï ‡¶ï‡¶∞‡ßá; ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶Æ‡ßÅ‡¶ñ‡ßÄ ‡¶´‡¶ø‡¶ô‡ßç‡¶ó‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü‡•§</p>

      <div class="code-toolbar">
        <button class="copy-code" data-code-index="0">Copy</button>
        <pre><code class="language-python" data-code="plaintext-example">
message = "hello world"  # ‡¶™‡ßç‡¶≤‡ßá‡¶á‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü

import base64
encoded = base64.b64encode(message.encode())
print(encoded)  # b'aGVsbG8gd29ybGQ=' (‡¶è‡¶®‡¶ï‡ßã‡¶°‡ßá‡¶°)

from cryptography.fernet import Fernet
key = Fernet.generate_key()
cipher = Fernet(key)
encrypted = cipher.encrypt(message.encode())
print(encrypted)  # ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßá‡¶°

decrypted = cipher.decrypt(encrypted).decode()
print(decrypted)  # ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßá‡¶°

import hashlib
hashed = hashlib.sha256(message.encode()).hexdigest()
print(hashed)  # ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂
        </code></pre>
      </div>

      <h3>‡¶≤‡¶æ‡¶á‡¶®-‡¶¨‡¶æ‡¶á-‡¶≤‡¶æ‡¶á‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ</h3>
      <ul>
        <li><code>message = "hello world"</code> ‚Äî ‡¶™‡ßç‡¶≤‡ßá‡¶á‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü: ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶™‡¶æ‡¶†‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø‡•§ (Analogy: ‡¶ñ‡¶æ‡¶Å‡¶ö‡¶æ ‡¶™‡¶æ‡¶ñ‡¶ø)</li>
        <li><code>message.encode()</code> ‚Äî ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç‡¶ï‡ßá ‡¶¨‡¶æ‡¶á‡¶ü‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞‡•§ (‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶á‡¶ü‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ö‡¶æ‡ßü)</li>
        <li><code>base64.b64encode(...)</code> ‚Äî ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã, ‡¶™‡¶æ‡¶†‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá ‡¶§‡ßã‡¶≤‡¶æ (‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶®‡ßü)‡•§</li>
        <li><code>Fernet.generate_key()</code> ‚Äî ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßÄ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡•§ (‡¶ó‡ßã‡¶™‡¶® ‡¶ö‡¶æ‡¶¨‡¶ø)</li>
        <li><code>cipher.encrypt(...)</code> ‡¶è‡¶¨‡¶Ç <code>cipher.decrypt(...)</code> ‚Äî ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ì ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡•§</li>
        <li><code>hashlib.sha256(...)</code> ‚Äî ‡¶è‡¶ï‡¶Æ‡ßÅ‡¶ñ‡ßÄ ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶§‡ßà‡¶∞‡¶ø; ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ‡•§ (‡¶Ü‡¶ô‡ßÅ‡¶≤‡ßá‡¶∞ ‡¶õ‡¶æ‡¶™)</li>
      </ul>
      <p><em> ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™‡ßá: ‡¶è‡¶®‡¶ï‡ßã‡¶°‡¶ø‡¶Ç ‡¶™‡ßã‡¶∂‡¶æ‡¶ï ‡¶¨‡¶¶‡¶≤‡ßá‡¶∞ ‡¶Æ‡¶§; ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶§‡¶æ‡¶≤‡¶æ‡¶¨‡¶¶‡ßç‡¶ß ‡¶¨‡¶æ‡¶ï‡ßç‡¶∏; ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶´‡¶ø‡¶ô‡ßç‡¶ó‡¶æ‡¶∞‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü‡•§</em></p>
    `
  },

  {
    id: 'encoding-common',
    title: '‡ß≠.‡ßß ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ Encoding ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø',
    body: `
      <p><strong>‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</strong>: UTF-8, Base64 ‡¶ì URL-encoding ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶ì ‡¶ï‡¶ñ‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§</p>

      <div class="code-toolbar">
        <button class="copy-code" data-code-index="1">Copy</button>
        <pre><code class="language-python" data-code="encoding-example">
import base64
from urllib.parse import quote

data = "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ"
utf8_encoded = data.encode('utf-8')
b64_encoded = base64.b64encode(utf8_encoded)
url_encoded = quote(data)

print(utf8_encoded)
print(b64_encoded)
print(url_encoded)
        </code></pre>
      </div>

      <h3>‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</h3>
      <ol>
        <li><code>UTF-8</code> ‚Äî ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Ç->‡¶¨‡¶æ‡¶á‡¶ü ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞, ‡¶ì‡ßü‡ßá‡¶¨‡ßá ‡¶Æ‡ßÇ‡¶≤‡•§</li>
        <li><code>Base64</code> ‚Äî ‡¶¨‡¶æ‡¶á‡¶®‡¶æ‡¶∞‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü‡ßá ‡¶∞‡ßÇ‡¶™‡¶æ‡¶®‡ßç‡¶§‡¶∞, ‡¶á‡¶Æ‡ßá‡¶á‡¶≤/API-‡¶§‡ßá ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞‡•§</li>
        <li><code>URL encoding</code> ‚Äî ‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤-‡¶è ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶æ‡¶∞ ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡•§</li>
      </ol>
    `
  },

  {
    id: 'encryption',
    title: '‡ß≠.‡ß® ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® (Encryption)',
    body: `
      <p><strong>‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</strong>: Symmetric (Fernet/AES) ‡¶ì Asymmetric (RSA) ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶ì ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡•§</p>

      <div class="code-toolbar">
        <button class="copy-code" data-code-index="2">Copy</button>
        <pre><code class="language-python" data-code="encryption-example">
from cryptography.fernet import Fernet

key = Fernet.generate_key()
cipher = Fernet(key)

message = "‡¶ó‡ßã‡¶™‡¶® ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ".encode()

encrypted_message = cipher.encrypt(message)
print("Encrypted:", encrypted_message)

decrypted_message = cipher.decrypt(encrypted_message).decode()
print("Decrypted:", decrypted_message)
        </code></pre>
      </div>

      <h3>‡¶≤‡¶æ‡¶á‡¶®-‡¶¨‡¶æ‡¶á-‡¶≤‡¶æ‡¶á‡¶®</h3>
      <ul>
        <li><code>Fernet.generate_key()</code> ‚Äî ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞ ‡¶ï‡ßÄ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá (‡¶∏‡¶ø‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡¶ø‡¶ï)‡•§</li>
        <li><code>cipher.encrypt(...)</code> ‚Äî ‡¶¨‡¶æ‡¶á‡¶ü‡¶∏‡¶ï‡ßá ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡•§</li>
        <li><code>cipher.decrypt(...)</code> ‚Äî ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ï‡ßÄ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶∏‡¶≤ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶¶‡ßá‡ßü‡•§</li>
      </ul>
      <p>üîí ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ï‡¶®‡¶´‡¶ø‡¶°‡ßá‡¶®‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá ‚Äî ‡¶ï‡ßÄ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡ßü ‡¶®‡¶æ‡•§</p>
    `
  },

  {
    id: 'hashing',
    title: '‡ß≠.‡ß© Hashing ‡¶ì One-way ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®',
    body: `
      <p><strong>‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™</strong>: SHA-256, bcrypt, Argon2, ‡¶ï‡¶ñ‡¶® ‡¶ï‡ßã‡¶®‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®‡•§</p>

      <div class="code-toolbar">
        <button class="copy-code" data-code-index="3">Copy</button>
        <pre><code class="language-python" data-code="hashing-example">
import hashlib

message = "important data"
hash_obj = hashlib.sha256(message.encode())
print("SHA256 Hash:", hash_obj.hexdigest())
        </code></pre>
      </div>

      <h3>‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</h3>
      <p>‡¶π‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶π‡¶≤‡ßã ‡¶è‡¶ï‡¶Æ‡ßÅ‡¶ñ‡ßÄ; ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡ßá ‡¶∏‡ßç‡¶≤‡ßã ‡¶ì ‡¶∏‡¶≤‡ßç‡¶ü‡ßá‡¶° ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ (bcrypt/Argon2) ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'hashing-speeds',
    title: '‡ß≠.‡ß™ Hashing Speed Cheatsheet',
    body: `
      <p>‡¶∂‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ ‚Äî ‡¶ï‡ßã‡¶® ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§/‡¶ß‡ßÄ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡ßá ‡¶ï‡ßã‡¶®‡¶ü‡¶æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®:</p>
      <pre><code class="language-text"># Hashing Algorithm    Speed (Approx)
SHA-1                 Fast
SHA-256               Moderate
bcrypt                Slow (designed to be slow)
Argon2                Slow (memory & CPU hard)
scrypt                Slow (memory hard)</code></pre>
      <p>üîë ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡ßç‡¶≤‡ßã ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂: bcrypt/Argon2/scrypt.</p>
    `
  },

  {
    id: 'password-policies',
    title: '‡ßÆ.‡ßß ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡ßÄ‡¶§‡¶ø (Password Policies)',
    body: `
      <p><strong>‡¶Æ‡¶æ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶®‡ßã‡¶ü</strong>: ‡¶∂‡¶ï‡ßç‡¶§ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞, ‡¶™‡¶æ‡¶∏‡¶´‡ßç‡¶∞‡ßá‡¶ú ‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞‡•§</p>
      <pre><code class="language-text"># ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶®‡ßÄ‡¶§‡¶ø:
- ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßÆ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞ (‡¶Ü‡¶∞ ‡¶≠‡¶æ‡¶≤ ‡¶π‡¶≤‡ßá 12+)
- ‡¶¨‡ßú ‡¶ì ‡¶õ‡ßã‡¶ü ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞
- ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ì ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶æ‡¶∞
- ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞</code></pre>
    `
  },

  {
    id: 'storing-passwords',
    title: '‡ßÆ.‡ß® ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£',
    body: `
      <p><strong>‡¶≠‡ßÅ‡¶≤‡¶ï‡¶•‡¶æ</strong>: ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø DB-‡¶§‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ (‡¶Ö‡¶¨‡¶ø‡¶≤‡¶Æ‡ßç‡¶¨‡ßá ‡¶≠‡ßÅ‡¶≤)‡•§</p>

      <div class="code-toolbar">
        <button class="copy-code" data-code-index="4">Copy</button>
        <pre><code class="language-python" data-code="bcrypt-example">
import bcrypt

password = "cute@123".encode()
salt = bcrypt.gensalt()
hashed = bcrypt.hashpw(password, salt)
print("Hashed Password:", hashed)

# ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á:
if bcrypt.checkpw("cute@123".encode(), hashed):
    print("Matched")
        </code></pre>
      </div>

      <h3>‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</h3>
      <p>‡¶∏‡¶≤‡ßç‡¶ü ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®; ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶æ‡¶Å‡¶ö‡ßÅ‡¶®; Argon2/ bcrypt ‡¶™‡ßç‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'passwordless',
    title: '‡ßÆ.‡ß© ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶õ‡¶æ‡ßú‡¶æ ‡¶ú‡ßÄ‡¶¨‡¶®',
    body: `
      <p>‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°‡¶≤‡ßá‡¶∏: WebAuthn, Magic Links, OTP, ‡¶¨‡¶æ‡ßü‡ßã‡¶Æ‡ßá‡¶ü‡ßç‡¶∞‡¶ø‡¶ï‡¶∏ ‚Äî ‡¶â‡¶®‡ßç‡¶®‡¶§ UX ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø‡•§</p>
    `
  },

  {
    id: 'public-key',
    title: '‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶ï‡ßÄ ‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø',
    body: `
      <div class="code-toolbar">
        <button class="copy-code" data-code-index="5">Copy</button>
        <pre><code class="language-python" data-code="rsa-example">
from cryptography.hazmat.primitives.asymmetric import rsa, padding
from cryptography.hazmat.primitives import hashes

private_key = rsa.generate_private_key(public_exponent=65537, key_size=2048)
public_key = private_key.public_key()

message = b"‡¶∏‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶ü ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ"
encrypted = public_key.encrypt(
    message,
    padding.OAEP(mgf=padding.MGF1(hashes.SHA256()), algorithm=hashes.SHA256(), label=None)
)
decrypted = private_key.decrypt(
    encrypted,
    padding.OAEP(mgf=padding.MGF1(hashes.SHA256()), algorithm=hashes.SHA256(), label=None)
)
print(decrypted.decode())
        </code></pre>
      </div>

      <p>‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ: ‡¶™‡¶æ‡¶¨‡¶≤‡¶ø‡¶ï ‡¶ï‡ßÄ ‡¶¶‡¶ø‡ßü‡ßá ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü, ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü ‡¶ï‡ßÄ ‡¶¶‡¶ø‡ßü‡ßá ‡¶°‡¶ø‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‚Äî ‡¶¨‡ßç‡¶Ø‡¶æ‡¶™‡¶ï‡¶≠‡¶æ‡¶¨‡ßá TLS/PKI-‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§‡•§</p>
    `
  },

  {
    id: 'sessions',
    title: '‡¶∏‡ßá‡¶∂‡¶®: ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®',
    body: `
      <div class="code-toolbar">
        <button class="copy-code" data-code-index="6">Copy</button>
        <pre><code class="language-python" data-code="flask-session-example">
from flask import Flask, session

app = Flask(__name__)
app.secret_key = "‡¶∏‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶ü ‡¶ï‡¶ø"

@app.route('/login')
def login():
    session['user'] = "ResearchAEOArticle"
    return "‡¶≤‡¶ó‡¶á‡¶® ‡¶∏‡¶´‡¶≤"
        </code></pre>
      </div>

      <p>‡¶∏‡ßá‡¶∂‡¶® ‡¶ï‡ßÅ‡¶ï‡¶ø/‡¶ü‡ßã‡¶ï‡ßá‡¶®‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶ß‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá; HttpOnly, Secure, SameSite ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'state-storage',
    title: '‡ßß‡ß¶.‡ßß ‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶ï‡ßã‡¶•‡¶æ‡ßü ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶¨‡ßá‡¶®?',
    body: `
      <p>‡¶∏‡ßç‡¶ü‡ßá‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞-‡¶∏‡¶æ‡¶á‡¶°‡ßá (Redis/DB) ‡¶¨‡¶æ JWT-‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‚Äî ‡¶§‡¶¨‡ßá JWT ‡¶∞‡¶æ‡¶ñ‡¶≤‡ßá ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡•§</p>
    `
  },

  {
    id: 'invalidate-session',
    title: '‡ßß‡ß¶.‡ß® ‡¶∏‡ßá‡¶∂‡¶® ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡¶æ',
    body: `
      <p>‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü ‡¶¨‡¶æ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∏‡ßá‡¶∂‡¶®/‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶á‡¶®‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶° ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶á‡¶°‡ßá ‡¶¨‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ï‡¶≤‡¶ø‡¶∏‡ßç‡¶ü/‡¶∞‡¶ø‡¶≠‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶ü‡ßá‡¶ú‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'cookies',
    title: '‡ßß‡ß¶.‡ß© ‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶Æ‡¶®‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ & ‡¶Ü‡¶™‡¶®‡¶ø',
    body: `
      <p>‡¶ï‡ßÅ‡¶ï‡¶ø‡¶§‡ßá HttpOnly, Secure ‡¶è‡¶¨‡¶Ç SameSite flag ‡¶¶‡¶ø‡¶®‡•§ ‡¶∏‡ßá‡¶®‡¶∏‡ßá‡¶ü‡¶ø‡¶≠ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ï‡ßÅ‡¶ï‡¶ø‡¶§‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§</p>
    `
  },

  {
    id: 'secure-headers',
    title: '‡ßß‡ßß.‡ßß ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶π‡ßá‡¶°‡¶æ‡¶∞‡¶∏',
    body: `
      <div class="code-toolbar">
        <button class="copy-code" data-code-index="7">Copy</button>
        <pre><code class="language-python" data-code="secure-headers-example">
@app.after_request
def secure_headers(response):
    response.headers['Content-Security-Policy'] = "default-src 'self'"
    response.headers['X-Frame-Options'] = 'DENY'
    response.headers['Strict-Transport-Security'] = 'max-age=31536000; includeSubDomains'
    return response
        </code></pre>
      </div>

      <p>‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶π‡ßá‡¶°‡¶æ‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶¶‡ßá‡ßü ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶ö‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‚Äî ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'sri',
    title: '‡ßß‡ßß.‡ß® ‡ß©‡ßü ‡¶™‡¶ï‡ßç‡¶∑‡ßá‡¶∞ ‡¶ï‡ßã‡¶°‡ßá‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶á‡¶®‡ßç‡¶ü‡ßá‡¶ó‡ßç‡¶∞‡¶ø‡¶ü‡¶ø (SRI)',
    body: `
      <p>Subresource Integrity (SRI) ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá CDN-‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ ‡¶ï‡ßã‡¶°‡ßá‡¶∞ ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶π‡¶≤‡ßá ‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶≤‡¶ï ‡¶π‡¶¨‡ßá‡•§</p>
    `
  },

  {
    id: 'pinning',
    title: '‡ßß‡ßß.‡ß© ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶™‡¶ø‡¶®‡¶ø‡¶Ç',
    body: `
      <p>‡¶¨‡ßç‡¶Ø‡¶ï‡¶è‡¶®‡ßç‡¶°/‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶ï‡ßç‡¶≤‡¶æ‡ßü‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶™‡¶ø‡¶®‡¶ø‡¶Ç ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶ï‡¶∞‡¶≤‡ßá MITM ‡¶∞‡¶ø‡¶∏‡ßç‡¶ï ‡¶ï‡¶Æ‡ßá, ‡¶§‡¶¨‡ßá ‡¶ï‡ßÄ ‡¶∞‡ßã‡¶ü‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤ ‡¶†‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§</p>
    `
  },

  {
    id: 'provisioning',
    title: '‡ßß‡ß®.‡ßß ‡¶ï‡ßç‡¶≤‡¶æ‡¶â‡¶° ‡¶™‡ßç‡¶∞‡ßã‡¶≠‡¶ø‡¶∂‡¶®‡¶ø‡¶Ç: ‡¶™‡ßã‡¶∞‡ßç‡¶ü, Shodan & AWS',
    body: `
      <p>‡¶∞‡¶ø‡¶Æ‡ßã‡¶ü ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶ì‡¶™‡ßá‡¶® ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶≤‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶∞‡¶ø‡¶∏‡ßç‡¶ï‡•§ Shodan ‡¶¶‡¶ø‡ßü‡ßá ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç AWS security groups ‡¶†‡¶ø‡¶ï ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'debug-mode',
    title: '‡ßß‡ß®.‡ß® "‡¶π‡¶æ‡¶®‡ßÄ, Debug mode ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶∞‡ßá‡¶ñ‡ßá‡¶õ‡ßã"',
    body: `
      <p>‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶®‡ßá ‡¶°‡¶ø‡¶¨‡¶æ‡¶ó ‡¶Æ‡ßã‡¶° ‡¶¨‡¶®‡ßç‡¶ß ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‚Äî ‡¶°‡¶ø‡¶ü‡ßá‡¶á‡¶≤‡¶° ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ú ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá‡•§</p>
    `
  },

  {
    id: 'logging',
    title: '‡ßß‡ß®.‡ß© ‡¶≤‡¶ó‡¶ø‡¶Ç (‡¶Ö‡¶•‡¶¨‡¶æ ‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ)',
    body: `
      <p>‡¶≤‡¶ó‡¶ø‡¶Ç ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∏‡ßá‡¶®‡¶∏‡ßá‡¶ü‡¶ø‡¶≠ ‡¶°‡¶æ‡¶ü‡¶æ (‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°, ‡¶ü‡ßã‡¶ï‡ßá‡¶®) ‡¶≤‡¶ó ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶≤‡¶ó ‡¶è‡ßç‡¶Ø‡¶æ‡¶®‡ßã‡¶®‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∞‡ßã‡¶ü‡ßá‡¶∂‡¶® ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'monitoring',
    title: '‡ßß‡ß®.‡ß™ ‡¶Æ‡¶®‡¶ø‡¶ü‡¶∞‡¶ø‡¶Ç',
    body: `
      <p>‡¶á‡¶®‡¶ü‡ßç‡¶∞‡ßÅ‡¶ù‡¶® ‡¶°‡¶ø‡¶ü‡ßá‡¶ï‡¶∂‡¶® ‡¶ì ‡¶Æ‡¶®‡¶ø‡¶ü‡¶∞‡¶ø‡¶Ç ‡¶™‡ßç‡¶≤‡ßç‡¶Ø‡¶æ‡¶ü‡¶´‡¶∞‡ßç‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π‡¶™‡ßç‡¶∞‡¶¨‡¶£ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶≤‡¶æ‡¶™ ‡¶ß‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'least-privilege',
    title: '‡ßß‡ß®.‡ß´ ‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø‡¶∞ ‡¶®‡ßÄ‡¶§‡¶ø',
    body: `
      <p>‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡ßá‡¶ï ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏/‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ï‡¶Æ ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø ‡¶¶‡¶ø‡¶® ‚Äî ‡¶è‡¶á ‡¶®‡ßÄ‡¶§‡¶ø‡¶á ‡¶ï‡ßç‡¶∑‡¶§‡¶ø‡¶∞ ‡¶∏‡ßÄ‡¶Æ‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡•§</p>
    `
  },

  {
    id: 'rate-captcha',
    title: '‡ßß‡ß®.‡ß¨ ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡¶ø‡¶Ç ‡¶ì ‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶ö‡¶æ',
    body: `
      <div class="code-toolbar">
        <button class="copy-code" data-code-index="8">Copy</button>
        <pre><code class="language-python" data-code="rate-limit-example">
from flask_limiter import Limiter
from flask_limiter.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)

@app.route('/login')
@limiter.limit("5 per minute")
def login():
    return "‡ß´ ‡¶¨‡¶æ‡¶∞/‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶≤‡¶ó‡¶á‡¶® ‡¶Ö‡¶®‡ßÅ‡¶Æ‡¶§‡¶ø‡•§"
        </code></pre>
      </div>
      <p>‡¶¨‡¶ü ‡¶ì ‡¶¨‡ßç‡¶∞‡ßÅ‡¶ü‡¶´‡ßã‡¶∞‡ßç‡¶∏ ‡¶Ü‡¶ï‡ßç‡¶∞‡¶Æ‡¶£ ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∞‡ßá‡¶ü ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶ì ‡¶ï‡ßç‡¶Ø‡¶æ‡¶™‡¶ö‡¶æ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'secrets',
    title: '‡ßß‡ß®.‡ß≠ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶∏‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶ü ‡¶ì ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶´‡¶æ‡¶á‡¶≤',
    body: `
      <p>‡¶∏‡¶ø‡¶ï‡ßç‡¶∞‡ßá‡¶ü‡¶∏ ‡¶ï‡¶ñ‡¶®‡ßã ‡¶∏‡ßã‡¶∞‡ßç‡¶∏ ‡¶ï‡ßã‡¶°‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® environment variables ‡¶¨‡¶æ Secret Manager (Cloud).</p>
    `
  },

  {
    id: 'dns',
    title: '‡ßß‡ß®.‡ßÆ DNS: ‡¶∏‡¶æ‡¶¨‡¶°‡ßã‡¶Æ‡ßá‡¶á‡¶® ‡¶ì ‡¶≠‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡¶ì‡ßü‡¶æ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü',
    body: `
      <p>‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã ‡¶∏‡¶æ‡¶¨‡¶°‡ßã‡¶Æ‡ßá‡¶á‡¶® ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶§‡ßç‡¶§‡¶æ ‡¶ù‡ßÅ‡¶Å‡¶ï‡¶ø ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡ßü ‚Äî ‡¶®‡¶ø‡ßü‡¶Æ‡¶ø‡¶§ ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ì ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'patching',
    title: '‡ßß‡ß®.‡ßØ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ö‡¶ø‡¶Ç ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶°‡ßá‡¶ü',
    body: `
      <p>‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ö‡¶ø‡¶Ç ‡¶ì ‡¶°‡¶ø‡¶™‡ßá‡¶®‡ßç‡¶°‡ßá‡¶®‡ßç‡¶∏‡¶ø ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∏‡¶æ‡¶∞‡¶ø‡•§ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡ßá‡¶° ‡¶™‡ßç‡¶Ø‡¶æ‡¶ö‡¶ø‡¶Ç‡¶ì ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
    `
  },

  {
    id: 'final',
    title: '‡¶´‡¶æ‡¶á‡¶®‡¶æ‡¶≤ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂ ‡¶ì ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ',
    body: `
      <p style="font-weight:700; color:var(--accent); font-size:1.05rem;">
        "‡¶™‡ßç‡¶≤‡ßá‡¶á‡¶®‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶π‡¶≤‡ßã ‡¶Ü‡¶∏‡¶≤ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ, ‡¶è‡¶®‡¶ï‡ßã‡¶°‡¶ø‡¶Ç ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶∏‡¶æ‡¶ú‡¶æ‡¶®‡ßã, ‡¶è‡¶®‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶Æ‡¶æ‡¶®‡ßá ‡¶ó‡ßã‡¶™‡¶® ‡¶¨‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶ö‡¶æ‡¶¨‡¶ø, ‡¶Ü‡¶∞ ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶π‡¶≤‡ßã ‡¶∏‡ßá‡¶á ‡¶¨‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶õ‡¶æ‡¶™‚Äî ‡¶Ø‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶≤ ‡¶ö‡¶æ‡¶¨‡¶ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ö‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨‡•§"
      </p>
      <p>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶ö‡¶æ‡¶≤‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶® ‚Äî ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® ‚Äî ‡¶∏‡ßÅ‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡ßÅ‡¶®‡•§</p>
    `
  }
]; // end topics

/* ========= Utility & UI logic ========= */
const cardsContainer = document.getElementById('cards');
const modal = document.getElementById('modal');
const modalWrap = document.querySelector('.modal-wrap');
const modalTitle = document.getElementById('modal-title');
const modalBody = document.getElementById('modal-body');
const closeModalBtn = document.getElementById('closeModal');
const prevBtn = document.getElementById('prevTopic');
const nextBtn = document.getElementById('nextTopic');
const backTop = document.getElementById('backTop');

let currentIndex = 0;
let lastFocused = null;

/* Generate cards */
function createCards(){
  topics.forEach((t, i) => {
    const card = document.createElement('article');
    card.className = 'card';
    card.setAttribute('role','button');
    card.setAttribute('tabindex','0');
    card.setAttribute('data-index', String(i));
    card.innerHTML = `
      <div class="glow"></div>
      <div class="title">${t.title}</div>
      <div class="desc">${(t.body.match(/<p>(.*?)<\/p>/i) || ['',''])[1] || ''}</div>
    `;
    // simple accessibility label
    card.setAttribute('aria-label', t.title);
    // click / keyboard
    card.addEventListener('click', ()=> openTopic(i));
    card.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openTopic(i); }
    });
    // subtle tilt on mousemove
    card.addEventListener('mousemove', (ev)=> {
      const rect = card.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;
      const dx = (ev.clientX - cx) / rect.width;
      const dy = (ev.clientY - cy) / rect.height;
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      card.style.transform = `translateY(-8px) rotateX(${(-dy*6).toFixed(2)}deg) rotateY(${(dx*6).toFixed(2)}deg) scale(1.02)`;
    });
    card.addEventListener('mouseleave', ()=> {
      card.style.transform = '';
    });

    cardsContainer.appendChild(card);
  });
}

/* Parallax scroll for background using rAF and throttling */
(function parallaxLoop(){
  const layers = [...document.querySelectorAll('.layer')];
  let lastY = window.scrollY;
  let ticking = false;
  function update(){
    const scrollY = window.scrollY;
    layers.forEach(layer => {
      const speed = parseFloat(layer.dataset.speed) || 1;
      const y = scrollY * (speed/12); // tuned factor
      layer.style.transform = `translateY(${y}px) scale(${1 + speed*0.002})`;
    });
    lastY = scrollY;
    ticking = false;
  }
  window.addEventListener('scroll', ()=> {
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
    if (!ticking){
      ticking = true;
      requestAnimationFrame(update);
    }
    // back to top visibility
    if(window.scrollY > 260) backTop.classList.add('show'); else backTop.classList.remove('show');
  }, {passive:true});
})();

/* Open modal with topic content */
function openTopic(index){
  lastFocused = document.activeElement;
  currentIndex = index;
  renderModal(index);
  document.body.style.overflow = 'hidden'; // prevent background scroll
  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  // focus close button after showing
  setTimeout(()=> closeModalBtn.focus(), 180);
}

/* Close modal */
function closeModal(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
  if(lastFocused) lastFocused.focus();
}

/* Render modal content */
function renderModal(i){
  const t = topics[i];
  modalTitle.textContent = t.title;
  modalBody.innerHTML = t.body + `<div class="modal-nav" style="margin-top:18px;"><button class="btn" id="modalPrevInline">‚Üê ‡¶Ü‡¶ó‡ßá‡¶∞</button><button class="btn primary" id="modalNextInline">‡¶™‡¶∞‡ßá‡¶∞ ‚Üí</button></div>`;
  attachCopyHandlers();
  attachInlineNav();
  runModalMicroParallax();
  Prism.highlightAllUnder(modalBody);
}

/* Inline prev/next inside modal */
function attachInlineNav(){
  const prevInline = document.getElementById('modalPrevInline');
  const nextInline = document.getElementById('modalNextInline');
  prevInline.addEventListener('click', ()=> { navigate(-1); });
  nextInline.addEventListener('click', ()=> { navigate(1); });
  prevInline.disabled = (currentIndex === 0);
  nextInline.disabled = (currentIndex === topics.length-1);
}

/* Prev/next handlers */
function navigate(direction){
  const next = currentIndex + direction;
  if(next < 0 || next >= topics.length) return;
  currentIndex = next;
  renderModal(currentIndex);
}

/* Hook header nav outside modal */
prevBtn.addEventListener('click', ()=> navigate(-1));
nextBtn.addEventListener('click', ()=> navigate(1));
closeModalBtn.addEventListener('click', closeModal);

/* Close on overlay click or ESC */
modal.addEventListener('click', (e)=>{
  if(e.target === modal){ closeModal(); }
});
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape' && modal.classList.contains('open')) closeModal();
});

/* Back to top */
backTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

/* Copy code support for code blocks inside modal */
function attachCopyHandlers(){
  // remove previous bindings
  modalBody.querySelectorAll('.copy-code').forEach(btn => btn.remove());
  // attach to each code-toolbar (we placed buttons earlier in some topics) or add for each pre
  modalBody.querySelectorAll('pre').forEach((pre, idx) => {
    // if a copy button already exists inside this pre, skip
    let existing = pre.parentElement.querySelector('.copy-code');
    if(existing) {
      // ensure listener
      existing.onclick = ()=> copyPre(pre, existing);
      return;
    }
    const btn = document.createElement('button');
    btn.className = 'copy-code';
    btn.type = 'button';
    btn.innerText = 'Copy';
    btn.addEventListener('click', ()=> copyPre(pre, btn));
    pre.parentElement.insertBefore(btn, pre);
  });
}

/* copy function */
function copyPre(pre, button){
  const code = pre.querySelector('code');
  if(!code) return;
  const text = code.textContent;
  navigator.clipboard.writeText(text).then(()=>{
    button.classList.add('copied');
    button.innerText = 'Copied!';
    setTimeout(()=> { button.classList.remove('copied'); button.innerText = 'Copy'; }, 1400);
  }).catch(()=> {
    // fallback: select and prompt
    const range = document.createRange();
    range.selectNodeContents(code);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
    try { document.execCommand('copy'); button.innerText='Copied!'; setTimeout(()=> button.innerText='Copy',1400); } catch(e){ alert('Copy failed ‚Äî use Ctrl+C'); }
    sel.removeAllRanges();
  });
}

/* Micro parallax inside modal header for depth */
function runModalMicroParallax(){
  const hero = modalBody.querySelector('.modal-hero') || document.getElementById('modal-hero');
  if(!hero) return;
  // simple mousemove parallax on hero
  function onMove(e){
    const rect = hero.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;
    const dx = (e.clientX - cx) / rect.width;
    const dy = (e.clientY - cy) / rect.height;
    hero.style.transform = `translateZ(8px) rotateX(${(-dy*3).toFixed(2)}deg) rotateY(${(dx*3).toFixed(2)}deg)`;
    // move inner layers if any
    hero.querySelectorAll('.mh-layer').forEach((layer, idx) => {
      const speed = (idx+1) * 6;
      layer.style.transform = `translate(${dx*speed}px, ${dy*speed}px)`;
    });
  }
  function onLeave(){ hero.style.transform=''; hero.querySelectorAll('.mh-layer').forEach(l=> l.style.transform=''); }
  hero.addEventListener('mousemove', onMove);
  hero.addEventListener('mouseleave', onLeave);
  // cleanup when modal closes
  modal.addEventListener('transitionend', ()=> {
    if(!modal.classList.contains('open')) { hero.removeEventListener('mousemove', onMove); hero.removeEventListener('mouseleave', onLeave); }
  }, {once: true});
}

/* focus trap - basic */
modal.addEventListener('keydown', (e)=>{
  if(e.key !== 'Tab') return;
  const focusable = modal.querySelectorAll('button, a, [tabindex]:not([tabindex="-1"]), input, select, textarea');
  if(!focusable.length) return;
  const first = focusable[0], last = focusable[focusable.length -1];
  if(e.shiftKey){
    if(document.activeElement === first){ e.preventDefault(); last.focus(); }
  } else {
    if(document.activeElement === last){ e.preventDefault(); first.focus(); }
  }
});

/* Initialize cards */
createCards();

/* Expose a little API to navigate externally via index */
window.openTopicById = (id) => {
  const idx = topics.findIndex(t => t.id === id);
  if(idx>=0) openTopic(idx);
};

/* initial highlighting for possible static code blocks */
Prism.highlightAll();

/* Accessibility: add focus ring for keyboard users */
document.addEventListener('keyup', (e)=>{
  if(e.key === 'Tab'){
    document.body.classList.add('show-focus');
  }
});
</script>
</body>
</html>
